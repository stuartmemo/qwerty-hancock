{"version":3,"file":"index.umd.min.js","sources":["../src/constants.ts","../src/utils.ts","../src/styles.ts","../src/keyboard.ts","../src/events.ts","../src/index.ts"],"sourcesContent":["import type { KeyMap } from './types';\n\n/**\n * Musical notes in order starting from A\n */\nexport const NOTE_NAMES = [\n  'A',\n  'A#',\n  'B',\n  'C',\n  'C#',\n  'D',\n  'D#',\n  'E',\n  'F',\n  'F#',\n  'G',\n  'G#',\n] as const;\n\n/**\n * White keys in order starting from C\n */\nexport const WHITE_NOTES = ['C', 'D', 'E', 'F', 'G', 'A', 'B'] as const;\n\n/**\n * Notes that have sharps\n */\nexport const NOTES_WITH_SHARPS = ['C', 'D', 'F', 'G', 'A'] as const;\n\n/**\n * Default key map using modern event.key values\n * Maps keyboard keys to note identifiers:\n * - 'l' suffix = lower octave\n * - 'u' suffix = upper octave\n *\n * Layout matches a standard QWERTY keyboard:\n * Lower row (ASDFGHJK) -> Lower octave (C-B)\n * Upper row (WETYU) -> Sharps/flats\n * Upper row (KL;') -> Upper octave\n */\nexport const DEFAULT_KEY_MAP: KeyMap = {\n  // Lower octave - white keys (bottom row)\n  a: 'Cl',\n  s: 'Dl',\n  d: 'El',\n  f: 'Fl',\n  g: 'Gl',\n  h: 'Al',\n  j: 'Bl',\n  // Lower octave - black keys (top row)\n  w: 'C#l',\n  e: 'D#l',\n  t: 'F#l',\n  y: 'G#l',\n  u: 'A#l',\n  // German keyboard layout support (Z and Y are swapped)\n  z: 'G#l',\n  // Upper octave - white keys\n  k: 'Cu',\n  l: 'Du',\n  ';': 'Eu',\n  \"'\": 'Fu',\n  '\\\\': 'Gu',\n  // Upper octave - black keys\n  o: 'C#u',\n  p: 'D#u',\n  ']': 'F#u',\n};\n\n/**\n * Default settings values\n */\nexport const DEFAULT_SETTINGS = {\n  id: 'keyboard',\n  octaves: 3,\n  width: 600,\n  height: 150,\n  margin: 0,\n  startNote: 'A3',\n  whiteKeyColour: '#fff',\n  blackKeyColour: '#000',\n  activeColour: 'yellow',\n  borderColour: '#000',\n  keyboardLayout: 'en',\n  musicalTyping: true,\n} as const;\n","import { NOTE_NAMES } from './constants';\nimport type { KeyMap, ResolvedSettings } from './types';\n\n/**\n * Calculate the frequency of a given note using equal temperament tuning.\n * A4 = 440 Hz is used as the reference pitch.\n *\n * @param note - Musical note with octave (e.g., 'A4', 'C#3', 'Bb5')\n * @returns Frequency in hertz\n */\nexport function getFrequencyOfNote(note: string): number {\n  // Parse octave from the note string\n  // Handle both 2-char notes (A4) and 3-char notes (C#4)\n  const octave = parseInt(note.length === 3 ? note.charAt(2) : note.charAt(1), 10);\n  const noteName = note.slice(0, -1);\n\n  // Find the position in the chromatic scale\n  const noteIndex = NOTE_NAMES.indexOf(noteName as typeof NOTE_NAMES[number]);\n\n  // Calculate key number (A0 = key 1)\n  // Notes A, A#, B are in the previous year's octave\n  let keyNumber: number;\n  if (noteIndex < 3) {\n    keyNumber = noteIndex + 12 + (octave - 1) * 12 + 1;\n  } else {\n    keyNumber = noteIndex + (octave - 1) * 12 + 1;\n  }\n\n  // Calculate frequency using equal temperament formula\n  // f = 440 * 2^((n-49)/12) where n is the key number and 49 is A4\n  return 440 * Math.pow(2, (keyNumber - 49) / 12);\n}\n\n/**\n * Order notes array starting from a specific note.\n *\n * @param notes - Array of note names to order\n * @param startNote - Note to start from (e.g., 'C4' or just 'C')\n * @returns Reordered array of notes\n */\nexport function orderNotes(notes: readonly string[], startNote: string): string[] {\n  const startNoteName = startNote.charAt(0);\n  const keyOffset = notes.indexOf(startNoteName);\n\n  if (keyOffset === -1) {\n    return [...notes];\n  }\n\n  const orderedNotes: string[] = [];\n  const numberOfNotes = notes.length;\n\n  for (let i = 0; i < numberOfNotes; i++) {\n    const index = (i + keyOffset) % numberOfNotes;\n    orderedNotes.push(notes[index]);\n  }\n\n  return orderedNotes;\n}\n\n/**\n * Get the full note name from a key map entry and current settings.\n *\n * @param key - The keyboard key that was pressed (event.key value)\n * @param keyMap - The current key map\n * @param settings - Current resolved settings\n * @returns Full note name with octave (e.g., 'C4')\n */\nexport function getKeyPressed(\n  key: string,\n  keyMap: KeyMap,\n  settings: ResolvedSettings\n): string {\n  const mapping = keyMap[key];\n  if (!mapping) return '';\n\n  const lowerOctave = settings.keyOctave + settings.keyPressOffset;\n  const upperOctave = lowerOctave + 1;\n\n  return mapping\n    .replace('l', lowerOctave.toString())\n    .replace('u', upperOctave.toString());\n}\n\n/**\n * Calculate the width of a white key based on available space.\n *\n * @param totalWidth - Total keyboard width in pixels\n * @param numberOfWhiteKeys - Number of white keys to fit\n * @returns Width of each white key in pixels\n */\nexport function getWhiteKeyWidth(totalWidth: number, numberOfWhiteKeys: number): number {\n  return Math.floor((totalWidth - numberOfWhiteKeys) / numberOfWhiteKeys);\n}\n\n/**\n * Get the total number of white keys for a given number of octaves.\n *\n * @param octaves - Number of octaves\n * @returns Total number of white keys\n */\nexport function getTotalWhiteKeys(octaves: number): number {\n  return octaves * 7;\n}\n","import type { ResolvedSettings } from './types';\n\n/**\n * Style properties that can be applied to elements\n */\nexport interface StyleProperties {\n  backgroundColor?: string;\n  border?: string;\n  borderRight?: string;\n  height?: string;\n  width?: string;\n  borderRadius?: string;\n  position?: string;\n  zIndex?: string;\n  boxSizing?: string;\n  display?: string;\n  left?: string;\n  cursor?: string;\n  fontSize?: string;\n  padding?: string;\n  listStyle?: string;\n  margin?: string;\n  userSelect?: string;\n}\n\n/**\n * Apply style properties to an HTML element.\n *\n * @param element - The element to style\n * @param styles - Object containing CSS properties to apply\n */\nexport function applyStyles(element: HTMLElement, styles: StyleProperties): void {\n  Object.assign(element.style, styles);\n  // Handle vendor prefixes for user-select\n  if (styles.userSelect !== undefined) {\n    (element.style as unknown as Record<string, string>)['-webkit-user-select'] = styles.userSelect;\n  }\n}\n\n/**\n * Get styles for the keyboard container element.\n *\n * @param settings - Resolved keyboard settings\n * @returns Style properties for the container\n */\nexport function getContainerStyles(settings: ResolvedSettings): StyleProperties {\n  return {\n    width: `${settings.width}px`,\n    height: `${settings.height}px`,\n    display: 'block',\n    position: 'relative',\n    boxSizing: 'content-box',\n  };\n}\n\n/**\n * Get styles for the keyboard list element.\n *\n * @param settings - Resolved keyboard settings\n * @returns Style properties for the keyboard list\n */\nexport function getKeyboardStyles(settings: ResolvedSettings): StyleProperties {\n  return {\n    cursor: 'default',\n    fontSize: '0px',\n    height: `${settings.height}px`,\n    width: `${settings.width}px`,\n    padding: '0',\n    position: 'relative',\n    listStyle: 'none',\n    margin: typeof settings.margin === 'number' ? `${settings.margin}px` : settings.margin as string,\n    boxSizing: 'content-box',\n    userSelect: 'none',\n  };\n}\n\n/**\n * Get styles for a white key.\n *\n * @param settings - Resolved keyboard settings\n * @param width - Width of the key in pixels\n * @param isLastKey - Whether this is the last key (affects border)\n * @returns Style properties for the white key\n */\nexport function getWhiteKeyStyles(\n  settings: ResolvedSettings,\n  width: number,\n  isLastKey: boolean\n): StyleProperties {\n  return {\n    backgroundColor: settings.whiteKeyColour,\n    border: `1px solid ${settings.borderColour}`,\n    borderRight: isLastKey ? `1px solid ${settings.borderColour}` : '0',\n    height: `${settings.height}px`,\n    width: `${width}px`,\n    borderRadius: '0 0 5px 5px',\n    position: 'relative',\n    zIndex: '1',\n    boxSizing: 'content-box',\n    display: 'inline-block',\n    userSelect: 'none',\n  };\n}\n\n/**\n * Get styles for a black key.\n *\n * @param settings - Resolved keyboard settings\n * @param width - Width of the key in pixels\n * @param leftPosition - Left offset in pixels\n * @returns Style properties for the black key\n */\nexport function getBlackKeyStyles(\n  settings: ResolvedSettings,\n  width: number,\n  leftPosition: number\n): StyleProperties {\n  return {\n    backgroundColor: settings.blackKeyColour,\n    border: `1px solid ${settings.borderColour}`,\n    position: 'absolute',\n    left: `${leftPosition}px`,\n    width: `${width}px`,\n    height: `${Math.floor(settings.height / 1.5)}px`,\n    borderRadius: '0 0 3px 3px',\n    zIndex: '2',\n    boxSizing: 'content-box',\n    display: 'inline-block',\n    userSelect: 'none',\n  };\n}\n\n/**\n * Highlight a key with the active color.\n *\n * @param element - The key element to highlight\n * @param activeColour - The color to use for highlighting\n */\nexport function lightenUp(element: HTMLElement | null, activeColour: string): void {\n  if (element) {\n    element.style.backgroundColor = activeColour;\n  }\n}\n\n/**\n * Restore a key to its original color.\n *\n * @param element - The key element to restore\n * @param settings - Resolved keyboard settings\n */\nexport function darkenDown(element: HTMLElement | null, settings: ResolvedSettings): void {\n  if (element) {\n    const noteType = element.getAttribute('data-note-type');\n    element.style.backgroundColor =\n      noteType === 'white' ? settings.whiteKeyColour : settings.blackKeyColour;\n  }\n}\n","import { WHITE_NOTES, NOTES_WITH_SHARPS } from './constants';\nimport type { Keyboard, ResolvedSettings } from './types';\nimport { orderNotes, getWhiteKeyWidth, getTotalWhiteKeys } from './utils';\nimport {\n  applyStyles,\n  getContainerStyles,\n  getKeyboardStyles,\n  getWhiteKeyStyles,\n  getBlackKeyStyles,\n} from './styles';\n\n/**\n * Create a single key element.\n *\n * @param id - Note identifier (e.g., 'C4', 'C#4')\n * @param colour - Key colour ('white' or 'black')\n * @returns The created key element\n */\nfunction createKeyElement(id: string, colour: 'white' | 'black'): HTMLLIElement {\n  const el = document.createElement('li');\n  el.id = id;\n  el.title = id;\n  el.setAttribute('data-note-type', colour);\n  return el;\n}\n\n/**\n * Create all keys for the keyboard.\n *\n * @param settings - Resolved keyboard settings\n * @param whiteNotes - Ordered array of white note names\n * @param notesWithSharps - Ordered array of notes that have sharps\n * @returns Array of key elements\n */\nfunction createKeys(\n  settings: ResolvedSettings,\n  whiteNotes: string[],\n  notesWithSharps: string[]\n): HTMLLIElement[] {\n  const keys: HTMLLIElement[] = [];\n  const totalWhiteKeys = getTotalWhiteKeys(settings.octaves);\n  const whiteKeyWidth = getWhiteKeyWidth(settings.width, totalWhiteKeys);\n  const blackKeyWidth = Math.floor(whiteKeyWidth / 2);\n\n  let noteCounter = 0;\n  let octaveCounter = settings.startOctave;\n\n  for (let i = 0; i < totalWhiteKeys; i++) {\n    // Reset note counter at the start of each octave\n    if (i % whiteNotes.length === 0) {\n      noteCounter = 0;\n    }\n\n    const currentNote = whiteNotes[noteCounter];\n\n    // Increment octave when we hit C (except for the first note)\n    if (currentNote === 'C' && i !== 0) {\n      octaveCounter++;\n    }\n\n    // Create white key\n    const whiteKeyId = `${currentNote}${octaveCounter}`;\n    const whiteKey = createKeyElement(whiteKeyId, 'white');\n    const isLastKey = i === totalWhiteKeys - 1;\n    applyStyles(whiteKey, getWhiteKeyStyles(settings, whiteKeyWidth, isLastKey));\n    keys.push(whiteKey);\n\n    // Create black key if this note has a sharp (except for the last key)\n    if (!isLastKey && notesWithSharps.includes(currentNote)) {\n      const blackKeyId = `${currentNote}#${octaveCounter}`;\n      const blackKey = createKeyElement(blackKeyId, 'black');\n      const leftPosition = Math.floor((whiteKeyWidth + 1) * (i + 1) - blackKeyWidth / 2);\n      applyStyles(blackKey, getBlackKeyStyles(settings, blackKeyWidth, leftPosition));\n      keys.push(blackKey);\n    }\n\n    noteCounter++;\n  }\n\n  return keys;\n}\n\n/**\n * Create the keyboard DOM structure.\n *\n * @param settings - Resolved keyboard settings\n * @returns The keyboard structure with container, element, and keys\n */\nexport function createKeyboard(settings: ResolvedSettings): Keyboard {\n  // Get or create the container element\n  let container = document.getElementById(settings.id);\n  if (!container) {\n    container = document.createElement('div');\n    container.id = settings.id;\n    document.body.appendChild(container);\n  }\n\n  // Apply container styles\n  applyStyles(container, getContainerStyles(settings));\n\n  // Create the keyboard list element\n  const keyboardEl = document.createElement('ul');\n  applyStyles(keyboardEl, getKeyboardStyles(settings));\n\n  // Order notes based on start note\n  const whiteNotes = orderNotes(WHITE_NOTES, settings.startNote);\n  const notesWithSharps = orderNotes(NOTES_WITH_SHARPS, settings.startNote);\n\n  // Create all keys\n  const keys = createKeys(settings, whiteNotes, notesWithSharps);\n\n  // Add keys to keyboard\n  keys.forEach((key) => keyboardEl.appendChild(key));\n\n  // Replace existing keyboard or add new one\n  const existingKeyboard = container.querySelector('ul');\n  if (existingKeyboard) {\n    container.replaceChild(keyboardEl, existingKeyboard);\n  } else {\n    container.appendChild(keyboardEl);\n  }\n\n  return {\n    container,\n    el: keyboardEl,\n    keys,\n    whiteNotes,\n    notesWithSharps,\n    totalWhiteKeys: getTotalWhiteKeys(settings.octaves),\n  };\n}\n\n/**\n * Calculate the key press offset based on the starting note.\n * This determines the octave adjustment for keyboard input.\n *\n * @param whiteNotes - Ordered array of white note names\n * @returns 0 if starting from C, 1 otherwise\n */\nexport function getKeyPressOffset(whiteNotes: string[]): number {\n  return whiteNotes[0] === 'C' ? 0 : 1;\n}\n","import type { KeyMap, NoteCallback, ResolvedSettings } from './types';\nimport { getFrequencyOfNote, getKeyPressed } from './utils';\nimport { lightenUp, darkenDown } from './styles';\n\n/**\n * State interface for event handling\n */\nexport interface EventState {\n  mouseIsDown: boolean;\n  keysDown: Set<string>;\n}\n\n/**\n * Callbacks interface for event handling\n */\nexport interface EventCallbacks {\n  keyDown: NoteCallback;\n  keyUp: NoteCallback;\n}\n\n/**\n * Check if a keyboard event has modifier keys pressed.\n *\n * @param event - The keyboard event\n * @returns true if any modifier key is pressed\n */\nfunction isModifierKey(event: KeyboardEvent): boolean {\n  return event.ctrlKey || event.metaKey || event.altKey;\n}\n\n/**\n * Handle mouse down on a key element.\n */\nfunction handleMouseDown(\n  element: HTMLElement,\n  state: EventState,\n  settings: ResolvedSettings,\n  callback: NoteCallback\n): void {\n  if (element.tagName.toLowerCase() !== 'li') return;\n\n  state.mouseIsDown = true;\n  lightenUp(element, settings.activeColour);\n  callback(element.title, getFrequencyOfNote(element.title));\n}\n\n/**\n * Handle mouse up on a key element.\n */\nfunction handleMouseUp(\n  element: HTMLElement,\n  state: EventState,\n  settings: ResolvedSettings,\n  callback: NoteCallback\n): void {\n  if (element.tagName.toLowerCase() !== 'li') return;\n\n  state.mouseIsDown = false;\n  darkenDown(element, settings);\n  callback(element.title, getFrequencyOfNote(element.title));\n}\n\n/**\n * Handle mouse over on a key element (for drag behavior).\n */\nfunction handleMouseOver(\n  element: HTMLElement,\n  state: EventState,\n  settings: ResolvedSettings,\n  callback: NoteCallback\n): void {\n  if (!state.mouseIsDown) return;\n\n  lightenUp(element, settings.activeColour);\n  callback(element.title, getFrequencyOfNote(element.title));\n}\n\n/**\n * Handle mouse out on a key element (for drag behavior).\n */\nfunction handleMouseOut(\n  element: HTMLElement,\n  state: EventState,\n  settings: ResolvedSettings,\n  callback: NoteCallback\n): void {\n  if (!state.mouseIsDown) return;\n\n  darkenDown(element, settings);\n  callback(element.title, getFrequencyOfNote(element.title));\n}\n\n/**\n * Handle keyboard key down event.\n */\nfunction handleKeyDown(\n  event: KeyboardEvent,\n  state: EventState,\n  settings: ResolvedSettings,\n  keyMap: KeyMap,\n  callback: NoteCallback\n): void {\n  if (isModifierKey(event)) return;\n\n  const key = event.key;\n  if (!(key in keyMap)) return;\n  if (state.keysDown.has(key)) return;\n\n  event.preventDefault();\n  state.keysDown.add(key);\n\n  const note = getKeyPressed(key, keyMap, settings);\n  const element = document.getElementById(note);\n\n  lightenUp(element, settings.activeColour);\n  callback(note, getFrequencyOfNote(note));\n}\n\n/**\n * Handle keyboard key up event.\n */\nfunction handleKeyUp(\n  event: KeyboardEvent,\n  state: EventState,\n  settings: ResolvedSettings,\n  keyMap: KeyMap,\n  callback: NoteCallback\n): void {\n  if (isModifierKey(event)) return;\n\n  const key = event.key;\n  if (!(key in keyMap)) return;\n\n  state.keysDown.delete(key);\n\n  const note = getKeyPressed(key, keyMap, settings);\n  const element = document.getElementById(note);\n\n  darkenDown(element, settings);\n  callback(note, getFrequencyOfNote(note));\n}\n\n/**\n * Add all event listeners to the keyboard.\n *\n * @param container - The keyboard container element\n * @param settings - Resolved keyboard settings\n * @param keyMap - The keyboard-to-note mapping\n * @param callbacks - The keyDown and keyUp callback functions\n * @param state - The shared event state\n * @returns A cleanup function to remove all listeners\n */\nexport function addListeners(\n  container: HTMLElement,\n  settings: ResolvedSettings,\n  keyMap: KeyMap,\n  callbacks: EventCallbacks,\n  state: EventState\n): () => void {\n  const cleanupFunctions: Array<() => void> = [];\n\n  // Mouse events on container\n  const onMouseDown = (event: MouseEvent) => {\n    handleMouseDown(event.target as HTMLElement, state, settings, callbacks.keyDown);\n  };\n  const onMouseUp = (event: MouseEvent) => {\n    handleMouseUp(event.target as HTMLElement, state, settings, callbacks.keyUp);\n  };\n  const onMouseOver = (event: MouseEvent) => {\n    handleMouseOver(event.target as HTMLElement, state, settings, callbacks.keyDown);\n  };\n  const onMouseOut = (event: MouseEvent) => {\n    handleMouseOut(event.target as HTMLElement, state, settings, callbacks.keyUp);\n  };\n\n  container.addEventListener('mousedown', onMouseDown);\n  container.addEventListener('mouseup', onMouseUp);\n  container.addEventListener('mouseover', onMouseOver);\n  container.addEventListener('mouseout', onMouseOut);\n\n  cleanupFunctions.push(() => {\n    container.removeEventListener('mousedown', onMouseDown);\n    container.removeEventListener('mouseup', onMouseUp);\n    container.removeEventListener('mouseover', onMouseOver);\n    container.removeEventListener('mouseout', onMouseOut);\n  });\n\n  // Touch events (if supported)\n  if ('ontouchstart' in document.documentElement) {\n    const onTouchStart = (event: TouchEvent) => {\n      handleMouseDown(event.target as HTMLElement, state, settings, callbacks.keyDown);\n    };\n    const onTouchEnd = (event: TouchEvent) => {\n      handleMouseUp(event.target as HTMLElement, state, settings, callbacks.keyUp);\n    };\n    const onTouchLeave = (event: TouchEvent) => {\n      handleMouseOut(event.target as HTMLElement, state, settings, callbacks.keyUp);\n    };\n\n    container.addEventListener('touchstart', onTouchStart);\n    container.addEventListener('touchend', onTouchEnd);\n    container.addEventListener('touchleave' as keyof HTMLElementEventMap, onTouchLeave as EventListener);\n    container.addEventListener('touchcancel', onTouchLeave);\n\n    cleanupFunctions.push(() => {\n      container.removeEventListener('touchstart', onTouchStart);\n      container.removeEventListener('touchend', onTouchEnd);\n      container.removeEventListener('touchleave' as keyof HTMLElementEventMap, onTouchLeave as EventListener);\n      container.removeEventListener('touchcancel', onTouchLeave);\n    });\n  }\n\n  // Keyboard events (if musical typing is enabled)\n  if (settings.musicalTyping) {\n    const onKeyDown = (event: KeyboardEvent) => {\n      handleKeyDown(event, state, settings, keyMap, callbacks.keyDown);\n    };\n    const onKeyUp = (event: KeyboardEvent) => {\n      handleKeyUp(event, state, settings, keyMap, callbacks.keyUp);\n    };\n\n    window.addEventListener('keydown', onKeyDown);\n    window.addEventListener('keyup', onKeyUp);\n\n    cleanupFunctions.push(() => {\n      window.removeEventListener('keydown', onKeyDown);\n      window.removeEventListener('keyup', onKeyUp);\n    });\n  }\n\n  // Return cleanup function\n  return () => {\n    cleanupFunctions.forEach((cleanup) => cleanup());\n  };\n}\n","/**\n * Qwerty Hancock keyboard library v1.0.0\n * The web keyboard for now people.\n * Copyright 2012-2025, Stuart Memo\n *\n * Licensed under the MIT License\n * http://opensource.org/licenses/mit-license.php\n *\n * http://stuartmemo.com/qwerty-hancock\n */\n\nimport type { QwertyHancockSettings, ResolvedSettings, NoteCallback, KeyMap } from './types';\nimport { DEFAULT_KEY_MAP, DEFAULT_SETTINGS } from './constants';\nimport { createKeyboard, getKeyPressOffset } from './keyboard';\nimport { addListeners, type EventState } from './events';\n\n/**\n * QwertyHancock - An interactive HTML keyboard for web audio projects.\n *\n * @example\n * ```typescript\n * import { QwertyHancock } from 'qwerty-hancock';\n *\n * const keyboard = new QwertyHancock({\n *   id: 'keyboard',\n *   octaves: 3,\n *   width: 600,\n *   height: 150,\n * });\n *\n * keyboard.keyDown = (note, frequency) => {\n *   console.log(`Note: ${note}, Frequency: ${frequency}Hz`);\n * };\n * ```\n */\nexport class QwertyHancock {\n  /** Library version */\n  public readonly version = '1.0.0';\n\n  /** Callback triggered when a key is pressed */\n  public keyDown: NoteCallback = () => {};\n\n  /** Callback triggered when a key is released */\n  public keyUp: NoteCallback = () => {};\n\n  private settings: ResolvedSettings;\n  private keyMap: KeyMap;\n  private eventState: EventState;\n  private cleanupListeners: (() => void) | null = null;\n\n  /**\n   * Create a new QwertyHancock keyboard instance.\n   *\n   * @param userSettings - Optional configuration settings\n   */\n  constructor(userSettings?: QwertyHancockSettings) {\n    // Initialize key map\n    this.keyMap = { ...DEFAULT_KEY_MAP };\n\n    // Initialize event state\n    this.eventState = {\n      mouseIsDown: false,\n      keysDown: new Set(),\n    };\n\n    // Resolve settings with defaults\n    this.settings = this.resolveSettings(userSettings);\n\n    // Create the keyboard DOM\n    const keyboard = createKeyboard(this.settings);\n\n    // Calculate key press offset based on starting note\n    this.settings.keyPressOffset = getKeyPressOffset(keyboard.whiteNotes);\n\n    // Add event listeners\n    this.cleanupListeners = addListeners(\n      keyboard.container,\n      this.settings,\n      this.keyMap,\n      {\n        keyDown: (note, frequency) => this.keyDown(note, frequency),\n        keyUp: (note, frequency) => this.keyUp(note, frequency),\n      },\n      this.eventState\n    );\n  }\n\n  /**\n   * Resolve user settings with defaults.\n   */\n  private resolveSettings(userSettings?: QwertyHancockSettings): ResolvedSettings {\n    const us = userSettings || {};\n\n    // Get container to determine default dimensions\n    let container = document.getElementById(us.id || DEFAULT_SETTINGS.id);\n    let width = us.width;\n    let height = us.height;\n\n    if (container) {\n      const computedStyle = window.getComputedStyle(container);\n      if (width === undefined) {\n        width = parseInt(computedStyle.width, 10) || DEFAULT_SETTINGS.width;\n      }\n      if (height === undefined) {\n        height = parseInt(computedStyle.height, 10) || DEFAULT_SETTINGS.height;\n      }\n    } else {\n      width = width ?? DEFAULT_SETTINGS.width;\n      height = height ?? DEFAULT_SETTINGS.height;\n    }\n\n    const startNote = us.startNote || DEFAULT_SETTINGS.startNote;\n    const startOctave = parseInt(startNote.charAt(startNote.length - 1), 10);\n\n    return {\n      id: us.id || DEFAULT_SETTINGS.id,\n      octaves: us.octaves ?? DEFAULT_SETTINGS.octaves,\n      width,\n      height,\n      margin: us.margin ?? DEFAULT_SETTINGS.margin,\n      startNote,\n      startOctave,\n      keyOctave: us.keyOctave ?? startOctave,\n      whiteKeyColour: us.whiteKeyColour || DEFAULT_SETTINGS.whiteKeyColour,\n      blackKeyColour: us.blackKeyColour || DEFAULT_SETTINGS.blackKeyColour,\n      activeColour: us.activeColour || DEFAULT_SETTINGS.activeColour,\n      borderColour: us.borderColour || DEFAULT_SETTINGS.borderColour,\n      keyboardLayout: us.keyboardLayout || DEFAULT_SETTINGS.keyboardLayout,\n      musicalTyping: us.musicalTyping !== false,\n      keyPressOffset: 0, // Will be set after keyboard creation\n    };\n  }\n\n  /**\n   * Set the octave for keyboard input.\n   *\n   * @param octave - The octave number to set\n   * @returns The new octave value\n   */\n  public setKeyOctave(octave: number): number {\n    this.settings.keyOctave = octave;\n    return this.settings.keyOctave;\n  }\n\n  /**\n   * Get the current octave for keyboard input.\n   *\n   * @returns The current octave value\n   */\n  public getKeyOctave(): number {\n    return this.settings.keyOctave;\n  }\n\n  /**\n   * Increment the keyboard input octave by one.\n   *\n   * @returns The new octave value\n   */\n  public keyOctaveUp(): number {\n    this.settings.keyOctave++;\n    return this.settings.keyOctave;\n  }\n\n  /**\n   * Decrement the keyboard input octave by one.\n   *\n   * @returns The new octave value\n   */\n  public keyOctaveDown(): number {\n    this.settings.keyOctave--;\n    return this.settings.keyOctave;\n  }\n\n  /**\n   * Get the current keyboard-to-note mapping.\n   *\n   * @returns The current key map\n   */\n  public getKeyMap(): KeyMap {\n    return this.keyMap;\n  }\n\n  /**\n   * Set a custom keyboard-to-note mapping.\n   *\n   * @param newKeyMap - The new key map to use\n   * @returns The updated key map\n   */\n  public setKeyMap(newKeyMap: KeyMap): KeyMap {\n    this.keyMap = newKeyMap;\n    return this.keyMap;\n  }\n\n  /**\n   * Clean up the keyboard instance and remove all event listeners.\n   * Call this method when removing the keyboard from the DOM or\n   * when the component is unmounted in a framework like React.\n   */\n  public destroy(): void {\n    if (this.cleanupListeners) {\n      this.cleanupListeners();\n      this.cleanupListeners = null;\n    }\n  }\n}\n\n// Default export for convenience\nexport default QwertyHancock;\n\n// Re-export types for consumers\nexport type { QwertyHancockSettings, NoteCallback, KeyMap } from './types';\n"],"names":["NOTE_NAMES","WHITE_NOTES","NOTES_WITH_SHARPS","DEFAULT_KEY_MAP","a","s","d","f","g","h","j","w","e","t","y","u","z","k","l","o","p","DEFAULT_SETTINGS","getFrequencyOfNote","note","octave","parseInt","length","charAt","noteName","slice","noteIndex","indexOf","keyNumber","Math","pow","orderNotes","notes","startNote","startNoteName","keyOffset","orderedNotes","numberOfNotes","i","index","push","getKeyPressed","key","keyMap","settings","mapping","lowerOctave","keyOctave","keyPressOffset","upperOctave","replace","toString","getTotalWhiteKeys","octaves","applyStyles","element","styles","Object","assign","style","undefined","userSelect","getWhiteKeyStyles","width","isLastKey","backgroundColor","whiteKeyColour","border","borderColour","borderRight","height","borderRadius","position","zIndex","boxSizing","display","getBlackKeyStyles","leftPosition","blackKeyColour","left","floor","lightenUp","activeColour","darkenDown","noteType","getAttribute","createKeyElement","id","colour","el","document","createElement","title","setAttribute","createKeys","whiteNotes","notesWithSharps","keys","totalWhiteKeys","whiteKeyWidth","totalWidth","numberOfWhiteKeys","blackKeyWidth","noteCounter","octaveCounter","startOctave","currentNote","whiteKey","includes","blackKey","isModifierKey","event","ctrlKey","metaKey","altKey","handleMouseDown","state","callback","tagName","toLowerCase","mouseIsDown","handleMouseUp","handleMouseOut","addListeners","container","callbacks","cleanupFunctions","onMouseDown","target","keyDown","onMouseUp","keyUp","onMouseOver","handleMouseOver","onMouseOut","addEventListener","removeEventListener","documentElement","onTouchStart","onTouchEnd","onTouchLeave","musicalTyping","onKeyDown","keysDown","has","preventDefault","add","getElementById","handleKeyDown","onKeyUp","delete","handleKeyUp","window","forEach","cleanup","QwertyHancock","constructor","userSettings","this","version","cleanupListeners","eventState","Set","resolveSettings","keyboard","body","appendChild","getContainerStyles","keyboardEl","cursor","fontSize","padding","listStyle","margin","getKeyboardStyles","existingKeyboard","querySelector","replaceChild","createKeyboard","frequency","us","computedStyle","getComputedStyle","keyboardLayout","setKeyOctave","getKeyOctave","keyOctaveUp","keyOctaveDown","getKeyMap","setKeyMap","newKeyMap","destroy"],"mappings":"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"}